# JavaScript ä¸­çš„æ¯”è¾ƒ

## ä¸¤ç§ç­‰å·çš„ä½¿ç”¨ç­–ç•¥

åœ¨ JavaScript ä¸­ï¼Œè¦å°½é‡ä½¿ç”¨å…¨ç­‰è¿ç®—ç¬¦ï¼ˆâ€œ===â€ï¼‰ï¼Œå› ä¸ºå…¨ç­‰è¿ç®—ç¬¦åœ¨æ¯”è¾ƒæ—¶éƒ½ä¸ä¼šè¿›è¡Œç±»å‹çš„è½¬åŒ–ï¼Œç›¸å¯¹è€Œè¨€é€Ÿåº¦ä¹Ÿä¼šæ›´å¿«ã€‚é‚£ä¹ˆä»€ä¹ˆæ—¶å€™ä½¿ç”¨ç›¸ç­‰è¿ç®—ç¬¦ï¼ˆâ€œ==â€ï¼‰å‘¢ï¼Ÿä»¥ä¸‹ä¸¤ç§æƒ…å†µä¾›å‚è€ƒã€‚

1ï¼‰ç”¨äºåˆ¤æ–­å¯¹è±¡çš„å±æ€§æ˜¯å¦å­˜åœ¨:
```js
let obj = {};
if( obj.a == null ) {
    //è¿™é‡Œç›¸å¯¹äºï¼šobj.a === null || obj.a === undefined çš„ç®€å†™å½¢å¼ï¼Œjqueryæºç çš„æ¨èå†™æ³•
}
```
2ï¼‰ç”¨äºåˆ¤æ–­å‡½æ•°çš„å‚æ•°æ˜¯å¦å­˜åœ¨ï¼š
```js
function fn( a, b ) {
    if( a == null ) {
        //è¿™é‡Œä¹Ÿç›¸å½“äº a === null || a === undefined çš„ç®€å†™
    }
}
```
æ€»ç»“: ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬å°½é‡ä½¿ç”¨ `===` æ¥ç²¾ç¡®åˆ¤æ–­ï¼Œåœ¨åˆ¤æ–­å¯¹è±¡å±æ€§å’Œå‡½æ•°å‚æ•°æ˜¯å¦å­˜åœ¨æ—¶å¯ä»¥ä½¿ç”¨ `==`ã€‚

## å…¨ç­‰è¿ç®—ç¬¦ `===`
è¯´æ˜: ä¸¥æ ¼åŒ¹é…,ä¸ä¼šç±»å‹è½¬æ¢,å¿…é¡»è¦æ•°æ®ç±»å‹å’Œå€¼å®Œå…¨ä¸€è‡´ã€‚

å…ˆåˆ¤æ–­ç±»å‹,å¦‚æœç±»å‹ä¸ä¸€æ ·ï¼Œç›´æ¥ä¸º `false`;

1ï¼‰å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹(å€¼ç±»å‹): Number,String,Boolean,Null å’Œ Undefined: ä¸¤è¾¹çš„å€¼è¦ä¸€è‡´æ‰ç›¸ç­‰
```js
console.log(null === null)            // true
console.log(undefined === undefined)  // true
// æ³¨æ„: NaN: ä¸ä¼šç­‰äºä»»ä½•æ•°,åŒ…æ‹¬å®ƒè‡ªå·±
console.log(NaN === NaN)              // false 
```
2ï¼‰å¯¹äºå¤æ‚æ•°æ®ç±»å‹(å¼•ç”¨ç±»å‹): Object,Array,Functionç­‰ï¼šä¸¤è¾¹çš„å¼•ç”¨åœ°å€å¦‚æœä¸€è‡´çš„è¯,æ˜¯ç›¸ç­‰çš„ï¼š
```js
let arr1 = [1,2,3];
let arr2 = arr1;
console.log(arr1 === arr2)   // true
```

## ç›¸ç­‰è¿ç®—ç¬¦ `==`
éä¸¥æ ¼åŒ¹é…: ä¼šç±»å‹è½¬æ¢ï¼Œä½†æ˜¯æœ‰å‰ææ¡ä»¶ä¸€å…±æœ‰äº”ç§æƒ…å†µ
(æ¥ä¸‹æ¥çš„ä»£ç ä»¥ `x == y` ä¸ºç¤ºä¾‹)

1ï¼‰x å’Œ y éƒ½æ˜¯ null æˆ– undefined: æ²¡æœ‰éšå¼ç±»å‹è½¬æ¢ï¼Œæ— æ¡ä»¶è¿”å› true

```js
console.log ( null == undefined );     //true
console.log ( null == null );          //true
console.log ( undefined == undefined );//true
```
2ï¼‰x æˆ– y æ˜¯ NaN : NaNä¸ä»»ä½•æ•°å­—éƒ½ä¸ç­‰ï¼Œæ²¡æœ‰éšå¼ç±»å‹è½¬æ¢ï¼Œæ— æ¡ä»¶è¿”å› false

```js
console.log(NaN == NaN); //false
```
3ï¼‰x å’Œ y æ˜¯ stringï¼Œbooleanï¼Œnumber

è§„åˆ™ï¼šæœ‰éšå¼ç±»å‹è½¬æ¢ï¼Œä¼šå°†ä¸æ˜¯ number ç±»å‹çš„æ•°æ®è½¬æˆ number

```js
console.log ( 1 == true );    //true    (1) 1 == Number(true)
console.log ( 1 == "true" );  //false   (1) 1 == Number('true')
console.log ( 1 == !"true" ); //false  (1) 1 == !Boolean('true')  (2) 1 == !true  (3) 1 == false  (4)1 == Number(false)
console.log ( 0 == !"true" ); //true
console.log (true == 'true');  // false
```
4ï¼‰x æˆ– y ï¼ˆä¸€ä¸ªï¼‰æ˜¯å¤æ‚æ•°æ®ç±»å‹ : ä¼šå…ˆè·å–å¤æ‚æ•°æ®ç±»å‹çš„åŸå§‹å€¼ä¹‹åå†å·¦æ¯”è¾ƒå¤æ‚æ•°æ®ç±»å‹çš„åŸå§‹å€¼ï¼š 
å…ˆè°ƒç”¨`valueOf`æ–¹æ³•ï¼Œç„¶åè°ƒç”¨ `toString` æ–¹æ³•
valueOf: ä¸€èˆ¬é»˜è®¤è¿”å›è‡ªèº«
æ•°ç»„çš„ toStringï¼šé»˜è®¤ä¼šè°ƒç”¨ join æ–¹æ³•æ‹¼æ¥æ¯ä¸ªå…ƒç´ å¹¶ä¸”è¿”å›æ‹¼æ¥åçš„å­—ç¬¦ä¸²ã€‚

```js
console.log ( [].toString () );//ç©ºå­—ç¬¦ä¸²
console.log ( {}.toString () );//[object Object]
```
æ³¨æ„:  ç©ºæ•°ç»„çš„toString()æ–¹æ³•ä¼šå¾—åˆ°ç©ºå­—ç¬¦ä¸²ï¼Œè€Œç©ºå¯¹è±¡çš„toString()æ–¹æ³•ä¼šå¾—åˆ°å­—ç¬¦ä¸²[object Object] ï¼ˆæ³¨æ„ç¬¬ä¸€ä¸ªå°å†™oï¼Œç¬¬äºŒä¸ªå¤§å†™Oå“Ÿï¼‰

```js
console.log ( [ 1, 2, 3 ].valueOf().toString());//â€˜1ï¼Œ2ï¼Œ3â€™
console.log ( [ 1, 2, 3 ] == "1,2,3" );//true  (1)[1,2,3].toString() == '1,2,3'  (2)'1,2,3' == '1,2,3'
console.log({} == '[object Object]');//true
```
5ï¼‰x å’Œ y éƒ½æ˜¯å¤æ‚æ•°æ®ç±»å‹ :
è§„åˆ™ï¼šåªæ¯”è¾ƒåœ°å€ï¼Œå¦‚æœåœ°å€ä¸€è‡´åˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å› false
```js
var arr1 = [10,20,30];
var arr2 = [10,20,30];
var arr3 = arr1;//å°†arr1çš„åœ°å€æ‹·è´ç»™arr3
console.log ( arr1 == arr2 );//è™½ç„¶arr1ä¸arr2ä¸­çš„æ•°æ®æ˜¯ä¸€æ ·ï¼Œä½†æ˜¯å®ƒä»¬ä¸¤ä¸ªä¸åŒçš„åœ°å€
console.log ( arr3 == arr1 );//true  ä¸¤è€…åœ°å€æ˜¯ä¸€æ ·
console.log ( [] == [] );//false
console.log ( {} == {} );//false
```
ğŸ’¯ã€é¢è¯•é¢˜ã€‘åˆ¤æ–­å¦‚ä¸‹ç»“æœï¼š

```js
console.log([] == 0); //true 
// åˆ†æ:(1) [].valueOf().toString() == 0  (2) Number('') == 0  (3) false == 0  (4) 0 == 0
console.log(![] == 0); //true
// åˆ†æ: é€»è¾‘éä¼˜å…ˆçº§é«˜äºå…³ç³»è¿ç®—ç¬¦ ![] = false (ç©ºæ•°ç»„è½¬å¸ƒå°”å€¼å¾—åˆ°true)

console.log({} == {}); //false
console.log([] == []); //false
// åˆ†æï¼šç¬¬äº”ç§æƒ…å†µï¼Œå¯¹è±¡åœ°å€ä¸ä¸€æ ·

console.log([] == ![]); //true
// åˆ†æï¼š(1) [] == !Boolean([])   (2) [] == !true  (3)[] == false  (4) [].toString() == false  (5)'' == false   (6)Number('0') == Number(false)

console.log({} == !{}); //false
// åˆ†æï¼š(1){} == !{} (2){} == !true  (3){} == false  (4){}.toString() == false  (5)'[object Object]' == false  (6)Number('[object Object]') == false
```

ğŸ’¯ã€å˜æ€é¢è¯•é¢˜ã€‘è¯·é—®å˜é‡ `a` åˆå§‹åŒ–ä¸ºä½•å€¼ï¼Œèƒ½ä½¿å…¶æ­£ç¡®æ‰“å° 1ï¼Ÿ

```js
var a = ???;
if (a == 1 && a == 2 && a == 3) {
  console.log(1);
}
```
å‚è€ƒç­”æ¡ˆï¼š
```js
var a = {
  i: 1, // å£°æ˜ä¸€ä¸ªå±æ€§i
  valueOf: function () {
    return a.i++; // æ¯è°ƒç”¨ä¸€æ¬¡ï¼Œè®©å¯¹è±¡açš„iå±æ€§è¿”å›å¹¶ä¸”è‡ªå¢ä¸€æ¬¡
  },
};

if (a == 1 && a == 2 && a == 3) {
  // æ¯ä¸€æ¬¡è¿ç®—æ—¶éƒ½ä¼šè°ƒç”¨ä¸€æ¬¡açš„valueOf()æ–¹æ³•
  console.log('1');
}
```



## ä¸‰ç›®è¿ç®—ç¬¦

```js
let y = false;
let x = y === true ? 'haha' : 'hoho';
console.log(x);
```

# å‚è€ƒæ–‡ç« 

- [JSæ¯”è¾ƒè¿ç®—ç¬¦çš„åŒ¹é…è§„åˆ™ä»¥åŠif()æ¡ä»¶çš„åˆ¤æ–­ç»“æœ](https://blog.csdn.net/cc18868876837/article/details/88867982)
- [è¯¦è§£ä¸€ä¸‹ javascript ä¸­çš„æ¯”è¾ƒ](https://segmentfault.com/q/1010000000305997)
- [ã€Œ2021ã€é«˜é¢‘å‰ç«¯é¢è¯•é¢˜æ±‡æ€»ä¹‹JavaScriptç¯‡ï¼ˆä¸Šï¼‰](https://juejin.cn/post/6940945178899251230#heading-15)